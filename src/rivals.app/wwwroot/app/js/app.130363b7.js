(function(e){function n(n){for(var o,r,i=n[0],a=n[1],c=n[2],u=0,h=[];u<i.length;u++)r=i[u],l[r]&&h.push(l[r][0]),l[r]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);d&&d(n);while(h.length)h.shift()();return s.push.apply(s,c||[]),t()}function t(){for(var e,n=0;n<s.length;n++){for(var t=s[n],o=!0,r=1;r<t.length;r++){var a=t[r];0!==l[a]&&(o=!1)}o&&(s.splice(n--,1),e=i(i.s=t[0]))}return e}var o={},l={app:0},s=[];function r(e){return i.p+"js/"+({duel:"duel"}[e]||e)+"."+{duel:"ed91eaee"}[e]+".js"}function i(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(e){var n=[],t=l[e];if(0!==t)if(t)n.push(t[2]);else{var o=new Promise(function(n,o){t=l[e]=[n,o]});n.push(t[2]=o);var s,a=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=r(e),s=function(n){c.onerror=c.onload=null,clearTimeout(u);var t=l[e];if(0!==t){if(t){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src,r=new Error("Loading chunk "+e+" failed.\n("+o+": "+s+")");r.type=o,r.request=s,t[1](r)}l[e]=void 0}};var u=setTimeout(function(){s({type:"timeout",target:c})},12e4);c.onerror=c.onload=s,a.appendChild(c)}return Promise.all(n)},i.m=e,i.c=o,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)i.d(t,o,function(n){return e[n]}.bind(null,o));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="/app/",i.oe=function(e){throw console.error(e),e};var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=n,a=a.slice();for(var u=0;u<a.length;u++)n(a[u]);var d=c;s.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"034f":function(e,n,t){"use strict";var o=t("64a9"),l=t.n(o);l.a},"0e55":function(e,n,t){},"22d7":function(e,n,t){"use strict";var o=t("0e55"),l=t.n(o);l.a},"56d7":function(e,n,t){"use strict";t.r(n);t("cadf"),t("551c"),t("097d");var o=t("2b0e"),l=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("div",{attrs:{id:"nav"}},[t("router-link",{attrs:{to:"/"}},[e._v("World")]),e._v(" |\n    "),t("router-link",{attrs:{to:"/duel"}},[e._v("Duel")])],1),t("router-view")],1)},s=[],r=(t("034f"),t("2877")),i={},a=Object(r["a"])(i,l,s,!1,null,null,null);a.options.__file="App.vue";var c=a.exports,u=t("8c4f"),d=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"world"},[t("OnlineUserList",{attrs:{users:e.users}}),t("ChallengeConfirm"),t("ChallengeAccept")],1)},h=[],f=(t("6b54"),function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"online-user-list"},e._l(e.users,function(n){return t("OnlineUser",{key:n.userName,attrs:{user:n},on:{"challenge-user":e.challenge}})}),1)}),p=[],m=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"online-user",on:{click:function(n){e.clickUser(e.user)}}},[e._v(e._s(e.user.userName)+"\n")])},v=[],g={name:"OnlineUser",props:{user:Object},data:function(){return{}},methods:{clickUser:function(e){this.$root.$emit("challenge-user",e)}}},b=g,_=(t("9d27"),Object(r["a"])(b,m,v,!1,null,"98b9a3fe",null));_.options.__file="OnlineUser.vue";var C=_.exports,w={name:"OnlineUserList",components:{OnlineUser:C},props:{users:Array},methods:{challenge:function(e){alert("challenged in user list!! ".concat(e.userName))}}},y=w,M=(t("6ef1"),Object(r["a"])(y,f,p,!1,null,"5e0fbf46",null));M.options.__file="OnlineUserList.vue";var $=M.exports,O=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"challenge-confirm"},[t("modal",{directives:[{name:"show",rawName:"v-show",value:e.isModalVisible,expression:"isModalVisible"}],on:{"close-modal":e.closeModal}},[t("template",{slot:"header"},[t("div")]),t("template",{slot:"body"},[e._v("\n      challenge "+e._s(e.challengedUser.userName)+" !?!\n    ")]),t("template",{slot:"footer"},[t("button",{on:{click:e.cancelChallenge}},[e._v("Chicken")]),t("button",{on:{click:e.confirmChallenge}},[e._v("Confirm")])])],2)],1)},U=[],k=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("transition",{attrs:{name:"modal-fade"}},[t("div",{staticClass:"modal-backdrop"},[t("div",{staticClass:"modal",attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"}},[t("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[e._t("header",[e._v("\n          This is the default tile!\n        ")])],2),t("section",{staticClass:"modal-body",attrs:{id:"modalDescription"}},[e._t("body",[e._v("\n          I'm the default body!\n        ")])],2),t("footer",{staticClass:"modal-footer"},[e._t("footer",[e._v("\n          I'm the default footer!\n\n          "),t("button",{staticClass:"btn-green",attrs:{type:"button","aria-label":"Close modal"},on:{click:e.close}},[e._v("\n            Close me!\n          ")])])],2)])])])},j=[],x={name:"Modal",methods:{close:function(){this.$emit("close-modal")}}},I=x,H=(t("22d7"),Object(r["a"])(I,k,j,!1,null,null,null));H.options.__file="Modal.vue";var D=H.exports,E={name:"ChallengeConfirm",components:{Modal:D},data:function(){return{challengedUser:Object,isModalVisible:!1}},methods:{challenge:function(e){this.challengedUser=e,this.showModal()},showModal:function(){this.isModalVisible=!0},closeModal:function(){this.isModalVisible=!1},cancelChallenge:function(){this.closeModal()},confirmChallenge:function(){this.$root.$emit("challenge-confirmed",this.challengedUser),this.closeModal()}},mounted:function(){this.$root.$on("challenge-user",this.challenge)}},N=E,S=Object(r["a"])(N,O,U,!1,null,null,null);S.options.__file="ChallengeConfirm.vue";var V=S.exports,T=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"challenge-accept"},[t("modal",{directives:[{name:"show",rawName:"v-show",value:e.isModalVisible,expression:"isModalVisible"}],on:{"close-modal":e.closeModal}},[t("template",{slot:"header"},[t("div")]),t("template",{slot:"body"},[e._v("\n      accept "+e._s(e.challengerUser.userName)+"'s challenge !?!\n    ")]),t("template",{slot:"footer"},[t("button",{on:{click:e.declineChallenge}},[e._v("Chicken")]),t("button",{on:{click:e.acceptChallenge}},[e._v("Confirm")])])],2)],1)},A=[],P={name:"ChallengeAccept",components:{Modal:D},data:function(){return{challengerUser:Object,isModalVisible:!1}},methods:{displayChallenge:function(e){this.challengerUser=e,this.showModal()},showModal:function(){this.isModalVisible=!0},closeModal:function(){this.isModalVisible=!1},declineChallenge:function(){this.$root.$emit("challenge-declined",this.challengerUser),this.closeModal()},acceptChallenge:function(){this.$root.$emit("challenge-accepted",this.challengerUser),this.closeModal()}},mounted:function(){this.$root.$on("challenge-issued",this.displayChallenge)}},L=P,W=Object(r["a"])(L,T,A,!1,null,null,null);W.options.__file="ChallengeAccept.vue";var J=W.exports,q=t("1a9a"),B={name:"world",components:{OnlineUserList:$,ChallengeConfirm:V,ChallengeAccept:J},data:function(){return{users:[]}},methods:{issueChallenge:function(e){this.worldHub.invoke("IssueChallenge",e)},acceptChallenge:function(e){this.worldHub.invoke("AcceptChallenge",e)},declineChallenge:function(e){this.worldHub.invoke("DeclineChallenge",e)},challengeIssued:function(e){this.$root.$emit("challenge-issued",e)},startDuel:function(e){this.$router.push({name:"duel",params:{duelId:e.id}})},userConnected:function(e){for(var n=!1,t=0;t<this.users.length;t++)this.users[t].userName===e.userName&&(this.users[t].connectionId=e.connectionId,n=!0);n||this.users.push(e)},userDisconnected:function(e){for(var n=0;n<this.users.length;n++)this.users[n].connectionId===e.connectionId&&this.users.splice(n,1)}},mounted:function(){var e=this;this.$root.$on("challenge-confirmed",this.issueChallenge),this.$root.$on("challenge-accepted",this.acceptChallenge),this.$root.$on("challenge-declined",this.declineChallenge),this.worldHub=(new q["a"]).withUrl("/WorldHub").build(),this.worldHub.on("UserConnected",function(n){e.userConnected(n)}),this.worldHub.on("UserDisconnected",function(n){e.userDisconnected(n)}),this.worldHub.on("ChallengeIssued",function(n){e.challengeIssued(n)}),this.worldHub.on("StartDuel",function(n){e.startDuel(n)});var n=function(){e.worldHub.stream("StreamUsers",10,500).subscribe({next:function(n){e.userConnected(n)},complete:function(){console.log("Users stream completed.")},error:function(e){console.error(e.toString())}})};this.worldHub.start().then(function(){n()}).catch(function(e){return console.error(e.toString())})}},z=B,F=Object(r["a"])(z,d,h,!1,null,null,null);F.options.__file="World.vue";var G=F.exports;o["a"].use(u["a"]);var K=new u["a"]({mode:"history",base:"/app/",routes:[{path:"/",name:"world",component:G},{path:"/duel/:duelId",name:"duel",component:function(){return t.e("duel").then(t.bind(null,"b6fe"))}}]}),Q=t("2f62");o["a"].use(Q["a"]);var R=new Q["a"].Store({state:{},mutations:{},actions:{}});o["a"].config.productionTip=!1,new o["a"]({router:K,store:R,render:function(e){return e(c)}}).$mount("#app")},"64a9":function(e,n,t){},"6ef1":function(e,n,t){"use strict";var o=t("dd59"),l=t.n(o);l.a},"79e7":function(e,n,t){},"9d27":function(e,n,t){"use strict";var o=t("79e7"),l=t.n(o);l.a},dd59:function(e,n,t){}});
//# sourceMappingURL=app.130363b7.js.map