(function(e){function t(t){for(var o,a,l=t[0],i=t[1],c=t[2],u=0,d=[];u<l.length;u++)a=l[u],r[a]&&d.push(r[a][0]),r[a]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);h&&h(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,a=1;a<n.length;a++){var l=n[a];0!==r[l]&&(o=!1)}o&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},a={app:0},r={app:0},s=[];function l(e){return i.p+"js/"+({duel:"duel",editor:"editor",spike:"spike"}[e]||e)+"."+{duel:"c45ad563",editor:"cdc722f7",spike:"9136b53c"}[e]+".js"}function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={duel:1,editor:1,spike:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise(function(t,n){for(var o="css/"+({duel:"duel",editor:"editor",spike:"spike"}[e]||e)+"."+{duel:"e0071624",editor:"57ce0d9e",spike:"383860bd"}[e]+".css",r=i.p+o,s=document.getElementsByTagName("link"),l=0;l<s.length;l++){var c=s[l],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===o||u===r))return t()}var d=document.getElementsByTagName("style");for(l=0;l<d.length;l++){c=d[l],u=c.getAttribute("data-href");if(u===o||u===r)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var o=t&&t.target&&t.target.src||r,s=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");s.request=o,delete a[e],h.parentNode.removeChild(h),n(s)},h.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(h)}).then(function(){a[e]=0}));var o=r[e];if(0!==o)if(o)t.push(o[2]);else{var s=new Promise(function(t,n){o=r[e]=[t,n]});t.push(o[2]=s);var c,u=document.getElementsByTagName("head")[0],d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=l(e),c=function(t){d.onerror=d.onload=null,clearTimeout(h);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+o+": "+a+")");s.type=o,s.request=a,n[1](s)}r[e]=void 0}};var h=setTimeout(function(){c({type:"timeout",target:d})},12e4);d.onerror=d.onload=c,u.appendChild(d)}return Promise.all(t)},i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/app/",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var h=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var o=n("64a9"),a=n.n(o);a.a},"07e5":function(e,t,n){},4271:function(e,t,n){"use strict";var o=n("07e5"),a=n.n(o);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],s=(n("034f"),n("2877")),l={},i=Object(s["a"])(l,a,r,!1,null,null,null);i.options.__file="App.vue";var c=i.exports,u=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"world"},[n("OnlineUserList",{attrs:{users:e.users}}),n("ChallengeConfirm"),n("ChallengeAccept")],1)},h=[],f=(n("6b54"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"online-user-list"},e._l(e.users,function(t){return n("OnlineUser",{key:t.userName,attrs:{user:t},on:{"challenge-user":e.challenge}})}),1)}),m=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"online-user",on:{click:function(t){e.clickUser(e.user)}}},[e._v(e._s(e.user.userName)+"\n")])},g=[],v={name:"OnlineUser",props:{user:Object},data:function(){return{}},methods:{clickUser:function(e){this.$root.$emit("challenge-user",e)}}},b=v,C=(n("9d27"),Object(s["a"])(b,p,g,!1,null,"98b9a3fe",null));C.options.__file="OnlineUser.vue";var y=C.exports,_={name:"OnlineUserList",components:{OnlineUser:y},props:{users:Array},methods:{challenge:function(e){alert("challenged in user list!! ".concat(e.userName))}}},w=_,k=(n("6ef1"),Object(s["a"])(w,f,m,!1,null,"5e0fbf46",null));k.options.__file="OnlineUserList.vue";var M=k.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"challenge-confirm"},[n("modal",{directives:[{name:"show",rawName:"v-show",value:e.isModalVisible,expression:"isModalVisible"}],on:{"close-modal":e.closeModal}},[n("template",{slot:"header"},[n("div")]),n("template",{slot:"body"},[e._v("\n      challenge "+e._s(e.challengedUser.userName)+" !?!\n    ")]),n("template",{slot:"footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.cancelChallenge}},[e._v("Chicken")]),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.confirmChallenge}},[e._v("Confirm")])])],2)],1)},O=[],U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask"},[n("div",{staticClass:"modal-dialog-centered"},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[e._t("header",[n("h5",{staticClass:"modal-title"},[e._v("Modal title")]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:e.close}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("Ã—")])])])],2),n("div",{staticClass:"modal-body"},[e._t("body")],2),n("div",{staticClass:"modal-footer"},[e._t("footer",[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.close}},[e._v("Cancel")])])],2)])])])])])},j=[],E={name:"Modal",methods:{close:function(){this.$emit("close-modal")}}},x=E,A=(n("4271"),Object(s["a"])(x,U,j,!1,null,"9b93343e",null));A.options.__file="Modal.vue";var N=A.exports,T={name:"ChallengeConfirm",components:{Modal:N},data:function(){return{challengedUser:Object,isModalVisible:!1}},methods:{challenge:function(e){this.challengedUser=e,this.showModal()},showModal:function(){this.isModalVisible=!0},closeModal:function(){this.isModalVisible=!1},cancelChallenge:function(){this.closeModal()},confirmChallenge:function(){this.$root.$emit("challenge-confirmed",this.challengedUser),this.closeModal()}},mounted:function(){this.$root.$on("challenge-user",this.challenge)}},P=T,S=Object(s["a"])(P,$,O,!1,null,null,null);S.options.__file="ChallengeConfirm.vue";var D=S.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"challenge-accept"},[n("modal",{directives:[{name:"show",rawName:"v-show",value:e.isModalVisible,expression:"isModalVisible"}],on:{"close-modal":e.closeModal}},[n("template",{slot:"header"},[n("div")]),n("template",{slot:"body"},[e._v("\n      accept "+e._s(e.challengerUser.userName)+"'s challenge !?!\n    ")]),n("template",{slot:"footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.declineChallenge}},[e._v("Chicken")]),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.acceptChallenge}},[e._v("Confirm")])])],2)],1)},I=[],V={name:"ChallengeAccept",components:{Modal:N},data:function(){return{challengerUser:Object,isModalVisible:!1}},methods:{displayChallenge:function(e){this.challengerUser=e,this.showModal()},showModal:function(){this.isModalVisible=!0},closeModal:function(){this.isModalVisible=!1},declineChallenge:function(){this.$root.$emit("challenge-declined",this.challengerUser),this.closeModal()},acceptChallenge:function(){this.$root.$emit("challenge-accepted",this.challengerUser),this.closeModal()}},mounted:function(){this.$root.$on("challenge-issued",this.displayChallenge)}},R=V,L=Object(s["a"])(R,H,I,!1,null,null,null);L.options.__file="ChallengeAccept.vue";var B=L.exports,J=n("1a9a"),q={name:"world",components:{OnlineUserList:M,ChallengeConfirm:D,ChallengeAccept:B},data:function(){return{users:[]}},methods:{issueChallenge:function(e){this.worldHub.invoke("IssueChallenge",e)},acceptChallenge:function(e){this.worldHub.invoke("AcceptChallenge",e)},declineChallenge:function(e){this.worldHub.invoke("DeclineChallenge",e)},challengeIssued:function(e){this.$root.$emit("challenge-issued",e)},startDuel:function(e){this.$router.push({name:"duel",params:{duelId:e.id}})},userConnected:function(e){for(var t=!1,n=0;n<this.users.length;n++)this.users[n].userName===e.userName&&(this.users[n].connectionId=e.connectionId,t=!0);t||this.users.push(e)},userDisconnected:function(e){for(var t=0;t<this.users.length;t++)this.users[t].connectionId===e.connectionId&&this.users.splice(t,1)}},mounted:function(){var e=this;this.$root.$on("challenge-confirmed",this.issueChallenge),this.$root.$on("challenge-accepted",this.acceptChallenge),this.$root.$on("challenge-declined",this.declineChallenge),this.worldHub=(new J["a"]).withUrl("/WorldHub").build(),this.worldHub.on("UserConnected",function(t){e.userConnected(t)}),this.worldHub.on("UserDisconnected",function(t){e.userDisconnected(t)}),this.worldHub.on("ChallengeIssued",function(t){e.challengeIssued(t)}),this.worldHub.on("StartDuel",function(t){e.startDuel(t)});var t=function(){e.worldHub.stream("StreamUsers",10,500).subscribe({next:function(t){e.userConnected(t)},complete:function(){console.log("Users stream completed.")},error:function(e){console.error(e.toString())}})};this.worldHub.start().then(function(){t()}).catch(function(e){return console.error(e.toString())})}},W=q,F=Object(s["a"])(W,d,h,!1,null,null,null);F.options.__file="World.vue";var G=F.exports;o["a"].use(u["a"]);var z=new u["a"]({mode:"history",base:"/app/",routes:[{path:"/",name:"world",component:G},{path:"/duel/:duelId",name:"duel",component:function(){return n.e("duel").then(n.bind(null,"b6fe"))}},{path:"/spike",name:"spike",component:function(){return n.e("spike").then(n.bind(null,"a79b"))}},{path:"/editor",name:"editor",component:function(){return n.e("editor").then(n.bind(null,"49d7"))}}]}),K=n("2f62"),Q={remainingRoundTime:15,playerPrefix:"Global Player"},X={decrement:function(e,t){e.remainingRoundTime-=t}},Y={longerRoundTime:function(e){return function(t){return e.remainingRoundTime+t}}},Z={asyncDecrement:function(e,t){var n=e.commit;n("decrement",t)}},ee={namespaced:!0,state:{antagonist:{playerName:"enemy",health:100},protagonist:{playerName:"self",health:100},range:2},mutations:{damageProtagonist:function(e,t){var n=e.protagonist.health-t;n<0&&(n=0),e.protagonist.health=n},damageAntagonist:function(e,t){var n=e.antagonist.health-t;n<0&&(n=0),e.antagonist.health=n},increaseRange:function(e,t){var n=e.range+t;n>3&&(n-=t),e.range=n},decreaseRange:function(e,t){var n=e.range-t;n<0&&(n=0),e.range=n}},actions:{asyncDamageProtagonist:function(e,t){e.state;var n=e.commit;e.rootState;n("damageProtagonist",t)},asyncDamageAntagonist:function(e,t){e.state;var n=e.commit;e.rootState;n("damageAntagonist",t)}},getters:{rangeDescription:function(e,t,n){var o;switch(e.range){case 0:o="ADJACENT";break;case 1:o="NEAR";break;case 2:o="FAR";break;case 3:o="REMOTE";break}return o}}},te={namespaced:!0,state:{hello:"hello"},mutations:{},actions:{},getters:{}};o["a"].use(K["a"]);var ne=new K["a"].Store({state:Q,mutations:X,getters:Y,actions:Z,modules:{players:ee,time:te}});n("4989"),n("ab8b");o["a"].config.productionTip=!1,new o["a"]({router:z,store:ne,render:function(e){return e(c)}}).$mount("#app")},"64a9":function(e,t,n){},"6ef1":function(e,t,n){"use strict";var o=n("dd59"),a=n.n(o);a.a},"79e7":function(e,t,n){},"9d27":function(e,t,n){"use strict";var o=n("79e7"),a=n.n(o);a.a},dd59:function(e,t,n){}});
//# sourceMappingURL=app.bced6a1b.js.map